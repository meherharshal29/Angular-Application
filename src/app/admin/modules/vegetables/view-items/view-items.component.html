<div class="container">
  <h3>Saved Items</h3>
  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <th>Image</th>
        <th>Name</th>
        <th>Category</th>
        <th>Price</th>
        <th>Discount</th>
        <th>Quantity</th>
        <th>Quantity Units</th>
        <th>Shop</th>
        <th>Details</th>
        <th>Additional Details</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of items; let i = index">
        <!-- Image Column -->
        <td>
          <img 
            *ngIf="item.imageUrl" 
            [src]="item.imageUrl" 
            [alt]="item.name" 
            class="img-thumbnail" 
            style="height: 60px; width: 60px; object-fit: cover;"
            (error)="onImageError($event)"
          >
          <span *ngIf="!item.imageUrl">-</span>
        </td>

        <td>{{ item.name }}</td>
        <td>{{ item.category }}</td>
        <td>${{ item.price }}</td>
        <td>{{ item.discountPrice ? '$' + item.discountPrice : '-' }}</td>
        <td>{{ item.quantity }}</td>
        <td>{{ item.quantityUnit }}</td>
        <td>{{ item.shopName }}</td>
        <td>{{ item.details || 'NA' }}</td>
        <td>{{ item.additionalDetails || 'NA' }}</td>
        <td class="d-flex gap-1">
          <button mat-icon-button color="primary" (click)="onEdit(item)">
            <mat-icon>edit</mat-icon>
          </button>
          <button mat-icon-button color="warn" (click)="onDelete(item.id)">
            <mat-icon>delete</mat-icon>
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="items.length === 0" class="alert alert-info mt-3">
    No items added yet.
  </div>
</div>